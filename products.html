<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ITECH | Products</title>

<style>
    body{
margin:0;
font-family:Arial;
background:#111;
color:white;
}

.main-header{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 8%;
background:#8B0000;
}

.logo{
font-size:22px;
font-weight:bold;
color:gold;
}

.header-search{
width:40%;
padding:10px;
border-radius:25px;
border:none;
}

.nav-icons a{
color:white;
text-decoration:none;
margin-left:15px;
}

.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:20px;
padding:30px 8%;
}

.card{
background:#1a1a1a;
padding:20px;
border-radius:10px;
text-align:center;
}

.card img{
width:100%;
border-radius:10px;
}

button{
background:gold;
color:black;
border:none;
padding:10px;
border-radius:20px;
cursor:pointer;
margin-top:10px;
}

button:hover{
background:#ffcc00;
}

.cart-page{
padding:40px 8%;
}

.cart-item{
margin-bottom:10px;
border-bottom:1px solid #333;
padding-bottom:5px;
}

@media(max-width:768px){
.header-search{
width:100%;
margin:10px 0;
}
.main-header{
flex-direction:column;
align-items:flex-start;
}
}

.nav-icons a{
color:white;
text-decoration:none;
margin-left:15px;
font-size:15px;
}

.nav-icons span{
background:gold;
color:black;
padding:2px 6px;
border-radius:50%;
font-size:15px;
}

 body.light-mode{
background:white;
color:#f2f2f2;
}

body.light-mode .card{
background:#f2f2f2;
color:black;
} 

body.dark-mode .sidebar{
background-color:rgb(210, 24, 24) !important;
color:#292424 !important;
}
body.dark-mode input{
    
background:#333;
color:white;
border:1px solid #555;
}
.menu-btn{
background:none;
border:none;
font-size:22px;
color:white;
cursor:pointer;
margin-right:10px;
}


.menu-btns{
background:none;
border:none;
font-size:22px;
color:white;
cursor:pointer;
margin-right:10px;
text-align: left;
}
.sidebar{
position:fixed;
left:-250px;
top:0;
width:250px;
height:100%;
background:#1a1a1a;
padding:20px;
transition:0.3s;
z-index:2000;
}

.sidebar.active{
left:0;
}

.sidebar h3{
color:gold;
margin-bottom:15px;
}

.sidebar ul{
list-style:none;
padding:0;
}

.sidebar ul li{
padding:10px 0;
cursor:pointer;
border-bottom:1px solid #333;
}

.sidebar ul li:hover{
color:gold;
}

.sidebar button{
width:100%;
margin-top:20px;
}


/* LIGHT MODE */
body.light-mode{
background:white;
color:#222;
}

body.light-mode .card{
background:#f5f5f5;
color:#222;
}

body.light-mode .sidebar{
background:#ffffff;
color:#222;
border-right:1px solid #ddd;
}

body.light-mode .sidebar ul li{
border-bottom:1px solid #ddd;
}

body.light-mode .main-header{
background:#f5f5f5;
color:#222;
}

body.light-mode .menu-btn{
color:#222;
}


body.light-mode a{
background:#f2f2f2;
color:rgb(0, 0, 0);
} 
/* Shake Animation */
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  50% { transform: translateX(4px); }
  75% { transform: translateX(-4px); }
  100% { transform: translateX(0); }
}

.card:hover {
  animation: shake 0.3s ease-in-out;
}

.image-modal {
  display: none;
  position: fixed;
  z-index: 3000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.9);
  justify-content: center;
  align-items: center;
}

.image-modal img {
  max-width: 80%;
  max-height: 80%;
  border-radius: 10px;
  animation: zoomIn 0.3s ease;
}

.image-modal span {
  position: absolute;
  top: 20px;
  right: 30px;
  font-size: 25px;
  color: white;
  cursor: pointer;
}

@keyframes zoomIn {
  from { transform: scale(0.5); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}







/* ============================= */
/* PRODUCT CARD ANIMATION */
/* ============================= */

.card {
  transition: 0.3s ease;
}

.card:hover {
  transform: translateY(-10px) scale(1.03);
  box-shadow: 0 15px 25px rgba(0,0,0,0.2);
}

/* ============================= */
/* IMAGE MODAL */
/* ============================= */

.image-modal {
  display: none;
  position: fixed;
  z-index: 3000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.95);
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.image-modal img {
  max-width: 80%;
  max-height: 80%;
  border-radius: 10px;
  transition: transform 0.3s ease;
}

.close-btn {
  position: absolute;
  top: 20px;
  right: 30px;
  font-size: 30px;
  color: white;
  cursor: pointer;
}

.nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 40px;
  background: none;
  border: none;
  color: white;
  cursor: pointer;
}

.prev { left: 40px; }
.next { right: 40px; }


#splashScreen{
  position: fixed;
  width:100%;
  height:100vh;
  background:#111;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:5000;
}

#splashScreen img{
  width:120px;
  animation: fadeZoom 1.5s ease;
}

@keyframes fadeZoom{
  from{opacity:0; transform:scale(0.7);}
  to{opacity:1; transform:scale(1);}
}

.call{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 15%;
background:gold;
}

.order{
  font-size:30px;
font-weight:bold;
color:#f2f2f2;
}


.divider{
  text-align: center;
  position: relative;
  margin: 30px 0;
}
.divider::before,
.divider::after{
  content: "";
  position: absolute;
  top: 50%;
  width: 30%;
  height: 2px;
  background: #ffffff;

}
.divider::before{
  left: 0;
}
.divider::after{
  right: 0;
}


.divid{
  text-align: center;
  position: relative;
  margin: 30px 0;
}
.divid::before,
.divid::after{
  content: "";
  position: absolute;
  top: 50%;
  width: 10%;
  height: 2px;
  background: #ffffff;

}
.divid::before{
  left: 0;
}
.divid::after{
  right: 0;
}
</style>
</head>
<body>
<!-- Splash Screen -->
<!-- <div id="splashScreen">
  <img src="logo.png" alt="ITECH Logo">
</div> -->
<header class="main-header">
    
  <div class="logo">ITECH-STORE</div>
<!-- 
  <input type="text" id="searchInput" placeholder="üîç Search products..." onkeyup="searchProducts()" class="header-search"> -->

  <div class="nav-icons">
    <a href="index.html">üè†Home</a>
    <a href="products.html">üõç Products</a>
    <a href="cart.html" title="CART">üõíCart <span id="cartCount">0</span></a>
  </div>
  <input type="text" id="searchInput" placeholder="üîç Search on ITECH..." onkeyup="searchProducts()" class="header-search">

  <button class="menu-btn" onclick="toggleSidebar()" title="VIEW CATEGORIES">‚ò∞Categories</button>
</header>
<section class="call">
  <div class="order">Call to order:09162249670</div>
</section>
<div class="sidebar" id="sidebar">
  <h3>Categories 
  <button class="menu-btns" onclick="toggleSidebar()" title="GO BACK">‚ò∞Go Back</button></h3>
   <h2 class="divid">Velw Categories</h2>
  <ul>
    <li onclick="filterProducts('all')">All</li>
    <li onclick="filterProducts('light')">Lights</li>
    <li onclick="filterProducts('laptop')">Laptops</li>
   <li onclick="filterProducts('fan')">Fans</li>
    <li onclick="filterProducts('accessories')">Accessories</li>
    <li onclick="filterProducts('mp3')">MP3s</li>
<li onclick="filterCategory('software')">Software</li>
<li onclick="filterCategory('home')">Home Appliances</li>
<li onclick="filterCategory('fashion')">Fashion</li>
  </ul>
    <h2 class="divider">Setting</h2>
    <ul><li onclick="filterCategory('software')">Payment Methods</li>
<li onclick="filterCategory('home')">Help and supports</li>
<li onclick="filterCategory('fashion')">Live chatüó®Ô∏è</li></ul>
<button id="themeBtn" onclick="toggleTheme()">üåô Dark Mode</button>
<button onclick="window.location.href='account.html'">
  Login
</button>
</div>

<section class="products" id="products"></section>

<script>
    let productList = [
{name:"Laptop", price:500000,category:"laptop", img:"images/lap1.png"},
{name:"Fan", price:10000, category:"fan",img:"images/fan.png"},
{name:"Speaker", price:40000,category:"mp3", img:"images/mp31.jpg"},
{name:"fan", price:10000, category:"fan", img:"images/f1.jpg", desc:"cooling fast."},

{name:"fan", price:10000, category:"fan", img:"images/f1.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f2.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f3.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f4.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f5.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f6.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f7.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f8.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f9.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f11.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f13.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f14.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f15.jpg", desc:"cooling fast."},
{name:"fan", price:10000, category:"fan", img:"images/f16.jpg", desc:"cooling fast."},





{name:"Laptop", price:500000, category:"laptop", img:"images/lap2.png", desc:"Good Laptop."},
{name:"Speaker", price:40000, category:"mp3", img:"images/mp31.jpg", desc:"Good sound."},
{name:"Laptop", price:700000, category:"laptop", img:"images/lap1.png", desc:""},
{name:"Laptop", price:250000, category:"laptop", img:"images/lap6.jpg", desc:"Professional website design."},
{name:"fan", price:10000, category:"fan", img:"images/fan.png", desc:"cooling fast."},
{name:"Fast fan", price:12000, category:"fan", img:"images/fan1.png", desc:"Good for hot seasons"},

{name:"Online courses", price:150000, category:"laptop", img:"images/pro1.jpg", desc:"learn programming"},

{name:"Online courses", price:150000, category:"laptop", img:"images/pro2.jpg", desc:"learn programming"},


{name:"Solar Light", price:12000, category:"light", img:"images/light2.png", desc:"Solar rechargable light."},
{name:"Laptop", price:250000, category:"laptop", img:"images/lap1.png", desc:"Awesome new product."},



{name:"Earbuds", price:10000, category:"mp3", img:"images/e1.jpg", desc:"Feel the sound of joy"},

{name:"Earbuds", price:10000, category:"mp3", img:"images/e2.jpg", desc:"Feel the sound of joy"},
{name:"Earbuds", price:10000, category:"mp3", img:"images/e3.jpg", desc:"Feel the sound of joy"},
{name:"Earbuds", price:10000, category:"mp3", img:"images/e4.jpg", desc:"Feel the sound of joy"},
{name:"Earbuds", price:10000, category:"mp3", img:"images/e5.jpg", desc:"Feel the sound of joy"},
{name:"Earbuds", price:10000, category:"mp3", img:"images/e6.jpg", desc:"Feel the sound of joy"},
{name:"Earbuds", price:10000, category:"mp3", img:"images/e7.jpg", desc:"Feel the sound of joy"},
{name:"Earbuds", price:10000, category:"mp3", img:"images/e8.png", desc:"Feel the sound of joy"},
{name:"Headphones", price:10000, category:"mp3", img:"images/h1.jpg", desc:"Feel the sound of joy"},
{name:"Headphones", price:10000, category:"mp3", img:"images/h2.jpg", desc:"Feel the sound of joy"},
{name:"Headphones", price:10000, category:"mp3", img:"images/h3.jpg", desc:"Feel the sound of joy"},
{name:"Headphones", price:10000, category:"mp3", img:"images/h4.jpg", desc:"Feel the sound of joy"},


{name:"Power Bank", price:250000, category:"accessories", img:"images/p5.jpg", desc:"Awesome new product."},
{name:"Power Bank", price:250000, category:"accessories", img:"images/p1.jpg", desc:"Awesome new product."},
{name:"Power Bank", price:250000, category:"accessories", img:"images/p2.jpg", desc:"Awesome new product."},
{name:"Power Bank", price:250000, category:"accessories", img:"images/p3.jpg", desc:"Awesome new product."},
{name:"Power Bank", price:250000, category:"accessories", img:"images/p4.jpg", desc:"Awesome new product."},

{name:"Fast Charger", price:7000, category:"accessories", img:"images/c1.jpg", desc:"Awesome new product with the fast charger."},
{name:"Fast Charger", price:7000, category:"accessories", img:"images/c2.jpg", desc:"Awesome new product with the fast charger."},

{name:"Fast Charger", price:7000, category:"accessories", img:"images/c3.jpg", desc:"Awesome new product with the fast charger."},

{name:"Fast Charger", price:7000, category:"accessories", img:"images/c4.jpg", desc:"Awesome new product with the fast charger."},

{name:"Fast Charger", price:7000, category:"accessories", img:"images/c5.png", desc:"Awesome new product with the fast charger."},

{name:"Fast Charger", price:7000, category:"accessories", img:"images/c6.jpg", desc:"Awesome new product with the fast charger."},


{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp1.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp2.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp3.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp4.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp5.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp6.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp7.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp8.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp9.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp10.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp11.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp12.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp13.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp14.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp15.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp16.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp17.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp18.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp6.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp11.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp21.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/mp22.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/a16.jpg", desc:"Awesome new product."},
{name:"Bluetooth Speaker", price:25000, category:"mp3", img:"images/a15.jpg", desc:"Awesome new product."},

];

let cart = JSON.parse(localStorage.getItem("cart")) || [];

function displayProducts(){
let container=document.getElementById("products");
container.innerHTML="";

productList.forEach((p,index)=>{
container.innerHTML+=`
<div class="card">
    <img src="${p.img}" onclick="openImageModal('${p.img}')">

<h3>${p.name}</h3>
<p class="price">‚Ç¶${p.price}</p>
<button onclick="addToCart(${index})">Add to Cart</button>
</div>
`;
});
}

function addToCart(index){
cart.push(productList[index]);
localStorage.setItem("cart",JSON.stringify(cart));
updateCartCount();
alert("Added to cart!");
}

function updateCartCount(){
document.getElementById("cartCount").innerText=cart.length;
}

function searchProducts(){
let input=document.getElementById("searchInput").value.toLowerCase();
let container=document.getElementById("products");
container.innerHTML="";

productList.forEach((p,index)=>{
if(p.name.toLowerCase().includes(input)){
container.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h3>${p.name}</h3>
<p class="price">‚Ç¶${p.price}</p>
<button onclick="addToCart(${index})">Add to Cart</button>
</div>
`;
}
});
}

displayProducts();
updateCartCount();

function toggleSidebar(){
document.getElementById("sidebar").classList.toggle("active");
}

function filterProducts(category){
let container=document.getElementById("products");
container.innerHTML="";

productList.forEach((p,index)=>{
if(category==="all" || p.category===category){
container.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h3>${p.name}</h3>
<p class="price">‚Ç¶${p.price}</p>
<button onclick="addToCart(${index})">Add to Cart</button>
</div>
`;
}
});
}


function toggleTheme(){
document.body.classList.toggle("light-mode");

if(document.body.classList.contains("light-mode")){
localStorage.setItem("theme","light");
}else{
localStorage.setItem("theme","dark");
}
}

if(localStorage.getItem("theme")==="light"){
document.body.classList.add("light-mode");
}


function toggleTheme(){
let body = document.body;
let btn = document.getElementById("themeBtn");

body.classList.toggle("light-mode");

if(body.classList.contains("light-mode")){
localStorage.setItem("theme","light");
btn.innerHTML = "üåô Dark Mode";
}else{
localStorage.setItem("theme","dark");
btn.innerHTML = "‚òÄ Light Mode";
}
}

/* Load saved theme on refresh */
document.addEventListener("DOMContentLoaded", function(){
let savedTheme = localStorage.getItem("theme");
let btn = document.getElementById("themeBtn");

if(savedTheme === "light"){
document.body.classList.add("light-mode");
btn.innerHTML = "üåô Dark Mode";
}else{
btn.innerHTML = "‚òÄ Light Mode";
}
});





// function openImageModal(src){
// let modal = document.getElementById("imageModal");
// let img = document.getElementById("modalImage");
// img.src = src;
// modal.style.display = "flex";
// }

// function closeImageModal(){
// document.getElementById("imageModal").style.display = "none";
// }


let currentImageIndex = 0;
let currentImages = [];
let zoomLevel = 1;

function openImageModal(src) {
  const modal = document.getElementById("imageModal");
  const img = document.getElementById("modalImage");

  currentImages = Array.from(document.querySelectorAll(".card img"))
                      .map(i => i.src);

  currentImageIndex = currentImages.indexOf(src);

  img.src = src;
  modal.style.display = "flex";
  zoomLevel = 1;
  img.style.transform = "scale(1)";
}

function closeImageModal() {
  document.getElementById("imageModal").style.display = "none";
}

function changeImage(direction) {
  currentImageIndex += direction;

  if (currentImageIndex < 0)
    currentImageIndex = currentImages.length - 1;

  if (currentImageIndex >= currentImages.length)
    currentImageIndex = 0;

  document.getElementById("modalImage").src =
    currentImages[currentImageIndex];

  zoomLevel = 1;
  document.getElementById("modalImage").style.transform = "scale(1)";
}

/* ESC key close */
document.addEventListener("keydown", function(e){
  if(e.key === "Escape") closeImageModal();
});

/* Click outside to close */
document.getElementById("imageModal")
.addEventListener("click", function(e){
  if(e.target === this) closeImageModal();
});

/* Double click zoom */
document.getElementById("modalImage")
.addEventListener("dblclick", function(){
  zoomLevel = zoomLevel === 1 ? 2 : 1;
  this.style.transform = `scale(${zoomLevel})`;
});

/* Mouse wheel zoom */
document.getElementById("modalImage")
.addEventListener("wheel", function(e){
  e.preventDefault();
  zoomLevel += e.deltaY * -0.001;
  zoomLevel = Math.min(Math.max(.5, zoomLevel), 3);
  this.style.transform = `scale(${zoomLevel})`;
});

/* Swipe support (mobile) */
let touchStartX = 0;

document.getElementById("modalImage")
.addEventListener("touchstart", e => {
  touchStartX = e.changedTouches[0].screenX;
});

document.getElementById("modalImage")
.addEventListener("touchend", e => {
  let touchEndX = e.changedTouches[0].screenX;
  if(touchEndX < touchStartX - 50) changeImage(1);
  if(touchEndX > touchStartX + 50) changeImage(-1);
});
</script>
<!-- Image Zoom Modal -->
<!-- <div id="imageModal" class="image-modal">
  <span onclick="closeImageModal()">‚úñ</span>
  <img id="modalImage"> -->

  <!-- Image Modal -->
<div id="imageModal" class="image-modal">
  <span class="close-btn" onclick="closeImageModal()">‚úñ</span>

  <button class="nav-btn prev" onclick="changeImage(-1)">‚ùÆ</button>
  <img id="modalImage">
  <button class="nav-btn next" onclick="changeImage(1)">‚ùØ</button>
</div>
</div>

<!-- <script src="./auth.js"></script> -->
<script src="./authGuard.js"></script>
</body>
</html>